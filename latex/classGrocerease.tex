\hypertarget{classGrocerease}{}\doxysection{Grocerease Class Reference}
\label{classGrocerease}\index{Grocerease@{Grocerease}}


{\ttfamily \#include $<$grocerease.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classGrocerease_abbc638908c7f600b59099d0e9db5f4a3}{initialize}} ()
\begin{DoxyCompactList}\small\item\em initialize variables \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_ad0e62e6c069e5532d4a0aadeff619f4d}{initialize\+\_\+test}} (float angle\+\_\+feed, float angle\+\_\+robot\+\_\+feed, float dist\+\_\+a\+\_\+feed)
\item 
void \mbox{\hyperlink{classGrocerease_ac89fc9f714a8e94acf84998be7967a71}{run\+\_\+program}} ()
\begin{DoxyCompactList}\small\item\em main program \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a3f19face95b916f379ec1b97a5d8b3b5}{run\+\_\+program\+\_\+test}} (float angle\+\_\+feed, float dist\+\_\+a\+\_\+feed)
\item 
void \mbox{\hyperlink{classGrocerease_a76163fe1108093dac3ceb3663764c4d8}{stop}} ()
\begin{DoxyCompactList}\small\item\em exit program \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a4c8c6741b63489efc672aac56ff31124}{read\+\_\+\+RSSI}} ()
\begin{DoxyCompactList}\small\item\em acquire RSSI values a,b,c \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_ac61b4cd561acb844fc1a658e44c453b3}{write\+\_\+new\+Angle}} ()
\begin{DoxyCompactList}\small\item\em assign current new angle \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a8ad4120414087daa51a184b7eac56852}{write\+\_\+a\+\_\+distance}} ()
\begin{DoxyCompactList}\small\item\em assign current a\+\_\+distance \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_ab7498e7caa1e95943604771a791762bf}{amend\+Angle}} ()
\begin{DoxyCompactList}\small\item\em calculate angle to amend from remaining time of rotation \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a69baaf9325bd6ff64908d92d1c1402d3}{read\+Current\+Rotation}} ()
\begin{DoxyCompactList}\small\item\em read current user rotation, decide if reading is required in next iteration \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_aba3c4a5635f3a401694967961f8170ac}{angle\+Recompute}} ()
\begin{DoxyCompactList}\small\item\em recompute new angle and flipping logic \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a3acd5a9513088b4fb5910ca2dfb38c8c}{angle\+Difference}} ()
\begin{DoxyCompactList}\small\item\em calculate angle difference \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a887ab69059ea43bc0417a1c2a5b8a4e9}{rotate\+Decision}} ()
\begin{DoxyCompactList}\small\item\em decide if rotation is required \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_aa3d5774cccb2ffeddd42d035f53488a2}{rotation}} ()
\begin{DoxyCompactList}\small\item\em performs rotation \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a57a3cff32b881bf855b2b1018dbdea2b}{amend\+Time}} ()
\begin{DoxyCompactList}\small\item\em calculate time of rotation to amend from remaining angle difference \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_a4c8e7b7de637bda3b6151942b84f94a4}{read\+IR}} ()
\begin{DoxyCompactList}\small\item\em get input from IR sensors \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_ac19afedd6955c30bd32fc9b2387224a8}{Obstacle\+Avoidance}} ()
\begin{DoxyCompactList}\small\item\em obstacle avoidance algorithm \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGrocerease_ae4949d11e144c405eaecbb710285d34c}{printvar}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{classGrocerease_a0546b86b53e379d6d24cc4ca4a3660b2}{elapsed\+\_\+time\+\_\+ms}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Copyright (C) 2022 Carry Assistant Trolley (C.\+A.\+T) Technologies

Jia Wei Tan, February 16, 2022.

This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.\+1 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02111, USA. 

Definition at line \mbox{\hyperlink{grocerease_8h_source_l00027}{27}} of file \mbox{\hyperlink{grocerease_8h_source}{grocerease.\+h}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classGrocerease_ab7498e7caa1e95943604771a791762bf}\label{classGrocerease_ab7498e7caa1e95943604771a791762bf}} 
\index{Grocerease@{Grocerease}!amendAngle@{amendAngle}}
\index{amendAngle@{amendAngle}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{amendAngle()}{amendAngle()}}
{\footnotesize\ttfamily void Grocerease\+::amend\+Angle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



calculate angle to amend from remaining time of rotation 

SECTION A -\/ ROTATION LOGIC WHEN WITHIN FOLLOW DISTANCE

SECTION A 

Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00122}{122}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00123 \{}
\DoxyCodeLine{00124     \textcolor{keywordflow}{if} (timeRotate\_left > 0)}
\DoxyCodeLine{00125     \{}
\DoxyCodeLine{00126         angle\_robot = cart.\mbox{\hyperlink{classCart_a2b7c7ccb0a092affd0123d3a62d0da44}{estimateRobotAngle}}(angle\_robot, 0, -\/correction, timeRotate\_left);}
\DoxyCodeLine{00127         timeRotate\_left = 0;}
\DoxyCodeLine{00128     \}}
\DoxyCodeLine{00129 }
\DoxyCodeLine{00130     \textcolor{keywordflow}{if} (timeRotate\_right > 0)}
\DoxyCodeLine{00131     \{}
\DoxyCodeLine{00132         angle\_robot = cart.\mbox{\hyperlink{classCart_a2b7c7ccb0a092affd0123d3a62d0da44}{estimateRobotAngle}}(angle\_robot, -\/correction, 0, timeRotate\_right);}
\DoxyCodeLine{00133         timeRotate\_right = 0;}
\DoxyCodeLine{00134     \}}
\DoxyCodeLine{00135 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a57a3cff32b881bf855b2b1018dbdea2b}\label{classGrocerease_a57a3cff32b881bf855b2b1018dbdea2b}} 
\index{Grocerease@{Grocerease}!amendTime@{amendTime}}
\index{amendTime@{amendTime}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{amendTime()}{amendTime()}}
{\footnotesize\ttfamily void Grocerease\+::amend\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



calculate time of rotation to amend from remaining angle difference 

SECTION B -\/ OBSTACLE AVOIDANCE LOGIC WHEN BEYOND FOLLOW DISTANCE

SECTION B 

Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00243}{243}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00244 \{}
\DoxyCodeLine{00245     \textcolor{keywordflow}{if} (angle\_diff != 0)}
\DoxyCodeLine{00246     \{}
\DoxyCodeLine{00247         \textcolor{keywordflow}{if} (angle\_diff > 0)}
\DoxyCodeLine{00248         \{}
\DoxyCodeLine{00249             timeRotate\_left = cart.\mbox{\hyperlink{classCart_a9ece0a7138b3da7075ba186109b2e713}{angleToTime}}(angle\_diff, 0, -\/correction);}
\DoxyCodeLine{00250             angle\_diff = 0;}
\DoxyCodeLine{00251         \}}
\DoxyCodeLine{00252         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00253         \{}
\DoxyCodeLine{00254             timeRotate\_right = cart.\mbox{\hyperlink{classCart_a9ece0a7138b3da7075ba186109b2e713}{angleToTime}}(angle\_diff, -\/correction, 0);}
\DoxyCodeLine{00255             angle\_diff = 0;}
\DoxyCodeLine{00256         \}}
\DoxyCodeLine{00257     \}}
\DoxyCodeLine{00258 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a3acd5a9513088b4fb5910ca2dfb38c8c}\label{classGrocerease_a3acd5a9513088b4fb5910ca2dfb38c8c}} 
\index{Grocerease@{Grocerease}!angleDifference@{angleDifference}}
\index{angleDifference@{angleDifference}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{angleDifference()}{angleDifference()}}
{\footnotesize\ttfamily void Grocerease\+::angle\+Difference (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



calculate angle difference 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00190}{190}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00191 \{}
\DoxyCodeLine{00192     angle\_diff = angle\_new -\/ angle\_robot;}
\DoxyCodeLine{00193     \textcolor{keywordflow}{if} (angle\_diff > 180)}
\DoxyCodeLine{00194     \{}
\DoxyCodeLine{00195         angle\_diff = angle\_diff -\/ 360;}
\DoxyCodeLine{00196     \}}
\DoxyCodeLine{00197     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (angle\_diff < -\/180)}
\DoxyCodeLine{00198     \{}
\DoxyCodeLine{00199         angle\_diff = angle\_diff + 360;}
\DoxyCodeLine{00200     \}}
\DoxyCodeLine{00201 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_aba3c4a5635f3a401694967961f8170ac}\label{classGrocerease_aba3c4a5635f3a401694967961f8170ac}} 
\index{Grocerease@{Grocerease}!angleRecompute@{angleRecompute}}
\index{angleRecompute@{angleRecompute}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{angleRecompute()}{angleRecompute()}}
{\footnotesize\ttfamily void Grocerease\+::angle\+Recompute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



recompute new angle and flipping logic 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00176}{176}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00177 \{}
\DoxyCodeLine{00178      \textcolor{keywordflow}{if} (clockwise == 1 \&\& (angle\_new < angle\_old))}
\DoxyCodeLine{00179     \{}
\DoxyCodeLine{00180         angle\_new = -\/angle\_new;}
\DoxyCodeLine{00181         flip\_cart = -\/flip\_cart;}
\DoxyCodeLine{00182     \}}
\DoxyCodeLine{00183     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (counterclockwise == 1 \&\& (angle\_new > angle\_old))}
\DoxyCodeLine{00184     \{}
\DoxyCodeLine{00185         angle\_new = -\/angle\_new;}
\DoxyCodeLine{00186         flip\_cart = -\/flip\_cart;}
\DoxyCodeLine{00187     \}}
\DoxyCodeLine{00188 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_abbc638908c7f600b59099d0e9db5f4a3}\label{classGrocerease_abbc638908c7f600b59099d0e9db5f4a3}} 
\index{Grocerease@{Grocerease}!initialize@{initialize}}
\index{initialize@{initialize}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily void Grocerease\+::initialize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



initialize variables 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00031}{31}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032 \{}
\DoxyCodeLine{00033     cart.\mbox{\hyperlink{classCart_a7f3cca3064effa75315bd1cd08fda10b}{start}}();}
\DoxyCodeLine{00034     \mbox{\hyperlink{classGrocerease_a4c8c6741b63489efc672aac56ff31124}{read\_RSSI}}();}
\DoxyCodeLine{00035     cart.\mbox{\hyperlink{classCart_a86560e8bd70d1bedb01c715896821e1c}{compute\_angle}}(a,b,c);}
\DoxyCodeLine{00036     angle\_new = cart.\mbox{\hyperlink{classCart_ac2d720d602e6eebdb7a6c7538324ef67}{getAngle}}();}
\DoxyCodeLine{00037     angle\_robot = angle\_new;}
\DoxyCodeLine{00038     angle\_old = angle\_new;}
\DoxyCodeLine{00039 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_ad0e62e6c069e5532d4a0aadeff619f4d}\label{classGrocerease_ad0e62e6c069e5532d4a0aadeff619f4d}} 
\index{Grocerease@{Grocerease}!initialize\_test@{initialize\_test}}
\index{initialize\_test@{initialize\_test}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{initialize\_test()}{initialize\_test()}}
{\footnotesize\ttfamily void Grocerease\+::initialize\+\_\+test (\begin{DoxyParamCaption}\item[{float}]{angle\+\_\+feed,  }\item[{float}]{angle\+\_\+robot\+\_\+feed,  }\item[{float}]{dist\+\_\+a\+\_\+feed }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00041}{41}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042 \{}
\DoxyCodeLine{00043     cart.\mbox{\hyperlink{classCart_a7f3cca3064effa75315bd1cd08fda10b}{start}}();}
\DoxyCodeLine{00044     angle\_new = angle\_feed;}
\DoxyCodeLine{00045     angle\_robot = angle\_robot\_feed;}
\DoxyCodeLine{00046     angle\_old = angle\_new;}
\DoxyCodeLine{00047     angle\_diff = angle\_new -\/ angle\_robot;}
\DoxyCodeLine{00048 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_ac19afedd6955c30bd32fc9b2387224a8}\label{classGrocerease_ac19afedd6955c30bd32fc9b2387224a8}} 
\index{Grocerease@{Grocerease}!ObstacleAvoidance@{ObstacleAvoidance}}
\index{ObstacleAvoidance@{ObstacleAvoidance}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{ObstacleAvoidance()}{ObstacleAvoidance()}}
{\footnotesize\ttfamily void Grocerease\+::\+Obstacle\+Avoidance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



obstacle avoidance algorithm 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00266}{266}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00267 \{}
\DoxyCodeLine{00268     \textcolor{keywordflow}{if} (ir\_left == 0 \&\& ir\_right == 1)}
\DoxyCodeLine{00269     \{}
\DoxyCodeLine{00270         leftAmend = 0;}
\DoxyCodeLine{00271         rightAmend = -\/correction;}
\DoxyCodeLine{00272         timeRotate\_right = timeRotate\_right + elapsed\_time\_ms;}
\DoxyCodeLine{00273     \}}
\DoxyCodeLine{00274 }
\DoxyCodeLine{00275     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ir\_left == 1 \&\& ir\_right == 0)}
\DoxyCodeLine{00276     \{}
\DoxyCodeLine{00277         leftAmend = -\/correction;}
\DoxyCodeLine{00278         rightAmend = 0;}
\DoxyCodeLine{00279         timeRotate\_left = timeRotate\_left + elapsed\_time\_ms;}
\DoxyCodeLine{00280     \}}
\DoxyCodeLine{00281 }
\DoxyCodeLine{00282     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ir\_left == 0 \&\& ir\_right == 0)}
\DoxyCodeLine{00283     \{}
\DoxyCodeLine{00284         leftAmend = -\/correction;}
\DoxyCodeLine{00285         rightAmend = 0;}
\DoxyCodeLine{00286         timeRotate\_left = timeRotate\_left + elapsed\_time\_ms;}
\DoxyCodeLine{00287     \}}
\DoxyCodeLine{00288 }
\DoxyCodeLine{00289     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00290     \{}
\DoxyCodeLine{00291         \textcolor{keywordflow}{if} (timeRotate\_right > 0)}
\DoxyCodeLine{00292         \{}
\DoxyCodeLine{00293             leftAmend = -\/correction;}
\DoxyCodeLine{00294             rightAmend = 0;}
\DoxyCodeLine{00295             timeRotate\_right = timeRotate\_right -\/ elapsed\_time\_ms;}
\DoxyCodeLine{00296             \textcolor{keywordflow}{if} (timeRotate\_right < 0)}
\DoxyCodeLine{00297             \{}
\DoxyCodeLine{00298                 timeRotate\_right = 0;}
\DoxyCodeLine{00299             \}}
\DoxyCodeLine{00300         \}}
\DoxyCodeLine{00301         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (timeRotate\_left > 0)}
\DoxyCodeLine{00302         \{}
\DoxyCodeLine{00303             leftAmend = 0;}
\DoxyCodeLine{00304             rightAmend = -\/correction;}
\DoxyCodeLine{00305             timeRotate\_left = timeRotate\_left -\/ elapsed\_time\_ms;}
\DoxyCodeLine{00306             \textcolor{keywordflow}{if} (timeRotate\_left < 0)}
\DoxyCodeLine{00307             \{}
\DoxyCodeLine{00308                 timeRotate\_left = 0;}
\DoxyCodeLine{00309             \}}
\DoxyCodeLine{00310         \}}
\DoxyCodeLine{00311         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00312         \{}
\DoxyCodeLine{00313             leftAmend = 0;}
\DoxyCodeLine{00314             rightAmend = 0;}
\DoxyCodeLine{00315         \}}
\DoxyCodeLine{00316     \}}
\DoxyCodeLine{00317     motorLeft = motorForward + leftAmend;}
\DoxyCodeLine{00318     motorRight = motorForward + rightAmend;}
\DoxyCodeLine{00319     cart.\mbox{\hyperlink{classCart_a98eefe9a8b411e548c919cde2e6ba7ba}{writeMotor}}(motorLeft, motorRight);}
\DoxyCodeLine{00320     angle\_robot = angle\_new;}
\DoxyCodeLine{00321 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_ae4949d11e144c405eaecbb710285d34c}\label{classGrocerease_ae4949d11e144c405eaecbb710285d34c}} 
\index{Grocerease@{Grocerease}!printvar@{printvar}}
\index{printvar@{printvar}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{printvar()}{printvar()}}
{\footnotesize\ttfamily void Grocerease\+::printvar (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00323}{323}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00324 \{}
\DoxyCodeLine{00325     std::cout << \textcolor{stringliteral}{"{}angle new: "{}} << angle\_new << \textcolor{stringliteral}{"{}  "{}};}
\DoxyCodeLine{00326     std::cout << \textcolor{stringliteral}{"{}angle robot: "{}} << angle\_robot << \textcolor{stringliteral}{"{}  "{}};}
\DoxyCodeLine{00327     std::cout << \textcolor{stringliteral}{"{}L: "{}} << motorLeft << \textcolor{stringliteral}{"{}  "{}};}
\DoxyCodeLine{00328     std::cout << \textcolor{stringliteral}{"{}R: "{}} << motorRight << \textcolor{stringliteral}{"{}  "{}};}
\DoxyCodeLine{00329     std::cout << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00330 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a4c8c6741b63489efc672aac56ff31124}\label{classGrocerease_a4c8c6741b63489efc672aac56ff31124}} 
\index{Grocerease@{Grocerease}!read\_RSSI@{read\_RSSI}}
\index{read\_RSSI@{read\_RSSI}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{read\_RSSI()}{read\_RSSI()}}
{\footnotesize\ttfamily void Grocerease\+::read\+\_\+\+RSSI (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



acquire RSSI values a,b,c 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00104}{104}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00105 \{}
\DoxyCodeLine{00106     \textcolor{comment}{//a = receive\_a();}}
\DoxyCodeLine{00107     \textcolor{comment}{//b = receive\_b();}}
\DoxyCodeLine{00108     \textcolor{comment}{//c = receive\_c();}}
\DoxyCodeLine{00109 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a69baaf9325bd6ff64908d92d1c1402d3}\label{classGrocerease_a69baaf9325bd6ff64908d92d1c1402d3}} 
\index{Grocerease@{Grocerease}!readCurrentRotation@{readCurrentRotation}}
\index{readCurrentRotation@{readCurrentRotation}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{readCurrentRotation()}{readCurrentRotation()}}
{\footnotesize\ttfamily void Grocerease\+::read\+Current\+Rotation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



read current user rotation, decide if reading is required in next iteration 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00137}{137}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00138 \{}
\DoxyCodeLine{00139     \textcolor{keywordflow}{if} (read\_rotation == 1)}
\DoxyCodeLine{00140     \{}
\DoxyCodeLine{00141         \textcolor{keywordflow}{if} (angle\_new > angle\_old)}
\DoxyCodeLine{00142         \{}
\DoxyCodeLine{00143             clockwise = 1;}
\DoxyCodeLine{00144             counterclockwise = 0;}
\DoxyCodeLine{00145             read\_rotation = 0;}
\DoxyCodeLine{00146         \}}
\DoxyCodeLine{00147         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (angle\_new < angle\_old)}
\DoxyCodeLine{00148         \{}
\DoxyCodeLine{00149             clockwise = 0;}
\DoxyCodeLine{00150             counterclockwise = 1;}
\DoxyCodeLine{00151             read\_rotation = 0;}
\DoxyCodeLine{00152         \}}
\DoxyCodeLine{00153         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00154         \{}
\DoxyCodeLine{00155             clockwise = 0;}
\DoxyCodeLine{00156             counterclockwise = 0;}
\DoxyCodeLine{00157         \}        }
\DoxyCodeLine{00158     \}}
\DoxyCodeLine{00159     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00160         \textcolor{keywordflow}{if} (abs(angle\_new -\/ angle\_old) < 1)}
\DoxyCodeLine{00161         \{}
\DoxyCodeLine{00162             timeUserStatic = timeUserStatic + elapsed\_time\_ms;}
\DoxyCodeLine{00163             \textcolor{keywordflow}{if} (timeUserStatic > 1000)}
\DoxyCodeLine{00164             \{}
\DoxyCodeLine{00165                 timeUserStatic = 0;}
\DoxyCodeLine{00166                 read\_rotation = 1;}
\DoxyCodeLine{00167             \}}
\DoxyCodeLine{00168         \}}
\DoxyCodeLine{00169         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00170         \{}
\DoxyCodeLine{00171             timeUserStatic = 0;    }
\DoxyCodeLine{00172         \}}
\DoxyCodeLine{00173     \}}
\DoxyCodeLine{00174 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a4c8e7b7de637bda3b6151942b84f94a4}\label{classGrocerease_a4c8e7b7de637bda3b6151942b84f94a4}} 
\index{Grocerease@{Grocerease}!readIR@{readIR}}
\index{readIR@{readIR}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{readIR()}{readIR()}}
{\footnotesize\ttfamily void Grocerease\+::read\+IR (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



get input from IR sensors 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00260}{260}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00261 \{}
\DoxyCodeLine{00262     ir\_left = cart.\mbox{\hyperlink{classCart_a4c56b715229e0353c9fa6ba433f85138}{get\_leftIR}}();}
\DoxyCodeLine{00263     ir\_right = cart.\mbox{\hyperlink{classCart_a3ae5766475e97d78fb1a9013cc1c80b9}{get\_rightIR}}();}
\DoxyCodeLine{00264 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a887ab69059ea43bc0417a1c2a5b8a4e9}\label{classGrocerease_a887ab69059ea43bc0417a1c2a5b8a4e9}} 
\index{Grocerease@{Grocerease}!rotateDecision@{rotateDecision}}
\index{rotateDecision@{rotateDecision}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{rotateDecision()}{rotateDecision()}}
{\footnotesize\ttfamily void Grocerease\+::rotate\+Decision (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



decide if rotation is required 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00203}{203}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00204 \{}
\DoxyCodeLine{00205     \textcolor{keywordflow}{if} (rotate == 0 \&\& abs(angle\_diff) > angleMove)}
\DoxyCodeLine{00206     \{}
\DoxyCodeLine{00207         rotate = 1;}
\DoxyCodeLine{00208     \}}
\DoxyCodeLine{00209     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rotate == 0 \&\& abs(angle\_diff) < angleMove)}
\DoxyCodeLine{00210     \{}
\DoxyCodeLine{00211         rotate = 0;}
\DoxyCodeLine{00212         cart.\mbox{\hyperlink{classCart_a98eefe9a8b411e548c919cde2e6ba7ba}{writeMotor}}(0, 0); }
\DoxyCodeLine{00213     \}}
\DoxyCodeLine{00214 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_aa3d5774cccb2ffeddd42d035f53488a2}\label{classGrocerease_aa3d5774cccb2ffeddd42d035f53488a2}} 
\index{Grocerease@{Grocerease}!rotation@{rotation}}
\index{rotation@{rotation}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{rotation()}{rotation()}}
{\footnotesize\ttfamily void Grocerease\+::rotation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



performs rotation 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00216}{216}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00217 \{}
\DoxyCodeLine{00218     \textcolor{keywordflow}{if} (rotate == 1)}
\DoxyCodeLine{00219     \{}
\DoxyCodeLine{00220         \textcolor{keywordflow}{if} (angle\_diff > 0)}
\DoxyCodeLine{00221         \{}
\DoxyCodeLine{00222             motorLeft = motorForward;                }
\DoxyCodeLine{00223             motorRight = -\/motorForward;              }
\DoxyCodeLine{00224         \}}
\DoxyCodeLine{00225         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (angle\_diff < 0)}
\DoxyCodeLine{00226         \{}
\DoxyCodeLine{00227             motorLeft = -\/motorForward;               }
\DoxyCodeLine{00228             motorRight = motorForward;               }
\DoxyCodeLine{00229         \}                                                          }
\DoxyCodeLine{00230         angle\_robot = cart.\mbox{\hyperlink{classCart_a2b7c7ccb0a092affd0123d3a62d0da44}{estimateRobotAngle}}(angle\_robot, motorLeft, motorRight, elapsed\_time\_ms);}
\DoxyCodeLine{00231 }
\DoxyCodeLine{00232         \textcolor{keywordflow}{if} (abs(angle\_robot-\/angle\_new) < 0.1)}
\DoxyCodeLine{00233         \{}
\DoxyCodeLine{00234             rotate = 0;                       }
\DoxyCodeLine{00235             motorLeft = 0;}
\DoxyCodeLine{00236             motorRight = 0;                          }
\DoxyCodeLine{00237         \}}
\DoxyCodeLine{00238         cart.\mbox{\hyperlink{classCart_a98eefe9a8b411e548c919cde2e6ba7ba}{writeMotor}}(motorLeft, motorRight);}
\DoxyCodeLine{00239     \}}
\DoxyCodeLine{00240 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_ac89fc9f714a8e94acf84998be7967a71}\label{classGrocerease_ac89fc9f714a8e94acf84998be7967a71}} 
\index{Grocerease@{Grocerease}!run\_program@{run\_program}}
\index{run\_program@{run\_program}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{run\_program()}{run\_program()}}
{\footnotesize\ttfamily void Grocerease\+::run\+\_\+program (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



main program 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00050}{50}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051 \{ }
\DoxyCodeLine{00052     \mbox{\hyperlink{classGrocerease_a4c8c6741b63489efc672aac56ff31124}{read\_RSSI}}();}
\DoxyCodeLine{00053     cart.\mbox{\hyperlink{classCart_a86560e8bd70d1bedb01c715896821e1c}{compute\_angle}}(a,b,c);}
\DoxyCodeLine{00054     \mbox{\hyperlink{classGrocerease_ac61b4cd561acb844fc1a658e44c453b3}{write\_newAngle}}();}
\DoxyCodeLine{00055     \mbox{\hyperlink{classGrocerease_a8ad4120414087daa51a184b7eac56852}{write\_a\_distance}}();}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057     \textcolor{keywordflow}{if} (a\_distance <= followDistance)}
\DoxyCodeLine{00058     \{}
\DoxyCodeLine{00059         \mbox{\hyperlink{classGrocerease_ab7498e7caa1e95943604771a791762bf}{amendAngle}}();}
\DoxyCodeLine{00060         \mbox{\hyperlink{classGrocerease_a69baaf9325bd6ff64908d92d1c1402d3}{readCurrentRotation}}();}
\DoxyCodeLine{00061         \mbox{\hyperlink{classGrocerease_aba3c4a5635f3a401694967961f8170ac}{angleRecompute}}();}
\DoxyCodeLine{00062         \mbox{\hyperlink{classGrocerease_a3acd5a9513088b4fb5910ca2dfb38c8c}{angleDifference}}();}
\DoxyCodeLine{00063         \mbox{\hyperlink{classGrocerease_a887ab69059ea43bc0417a1c2a5b8a4e9}{rotateDecision}}();}
\DoxyCodeLine{00064         \mbox{\hyperlink{classGrocerease_aa3d5774cccb2ffeddd42d035f53488a2}{rotation}}();}
\DoxyCodeLine{00065     \}}
\DoxyCodeLine{00066     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00067     \{}
\DoxyCodeLine{00068         \mbox{\hyperlink{classGrocerease_a57a3cff32b881bf855b2b1018dbdea2b}{amendTime}}();}
\DoxyCodeLine{00069         \mbox{\hyperlink{classGrocerease_a4c8e7b7de637bda3b6151942b84f94a4}{readIR}}();}
\DoxyCodeLine{00070         \mbox{\hyperlink{classGrocerease_ac19afedd6955c30bd32fc9b2387224a8}{ObstacleAvoidance}}();}
\DoxyCodeLine{00071     \}}
\DoxyCodeLine{00072     angle\_old = angle\_new;  }
\DoxyCodeLine{00073 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a3f19face95b916f379ec1b97a5d8b3b5}\label{classGrocerease_a3f19face95b916f379ec1b97a5d8b3b5}} 
\index{Grocerease@{Grocerease}!run\_program\_test@{run\_program\_test}}
\index{run\_program\_test@{run\_program\_test}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{run\_program\_test()}{run\_program\_test()}}
{\footnotesize\ttfamily void Grocerease\+::run\+\_\+program\+\_\+test (\begin{DoxyParamCaption}\item[{float}]{angle\+\_\+feed,  }\item[{float}]{dist\+\_\+a\+\_\+feed }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00075}{75}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00076 \{ }
\DoxyCodeLine{00077     }
\DoxyCodeLine{00078     angle\_new = flip\_cart*angle\_feed;}
\DoxyCodeLine{00079     a\_distance = dist\_a\_feed;}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081     \textcolor{keywordflow}{if} (a\_distance <= followDistance)}
\DoxyCodeLine{00082     \{}
\DoxyCodeLine{00083         \mbox{\hyperlink{classGrocerease_ab7498e7caa1e95943604771a791762bf}{amendAngle}}();}
\DoxyCodeLine{00084         \mbox{\hyperlink{classGrocerease_a69baaf9325bd6ff64908d92d1c1402d3}{readCurrentRotation}}();}
\DoxyCodeLine{00085         \mbox{\hyperlink{classGrocerease_aba3c4a5635f3a401694967961f8170ac}{angleRecompute}}();}
\DoxyCodeLine{00086         \mbox{\hyperlink{classGrocerease_a3acd5a9513088b4fb5910ca2dfb38c8c}{angleDifference}}();}
\DoxyCodeLine{00087         \mbox{\hyperlink{classGrocerease_a887ab69059ea43bc0417a1c2a5b8a4e9}{rotateDecision}}();}
\DoxyCodeLine{00088         \mbox{\hyperlink{classGrocerease_aa3d5774cccb2ffeddd42d035f53488a2}{rotation}}();}
\DoxyCodeLine{00089     \}}
\DoxyCodeLine{00090     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00091     \{}
\DoxyCodeLine{00092         \mbox{\hyperlink{classGrocerease_a57a3cff32b881bf855b2b1018dbdea2b}{amendTime}}();}
\DoxyCodeLine{00093         \mbox{\hyperlink{classGrocerease_a4c8e7b7de637bda3b6151942b84f94a4}{readIR}}();}
\DoxyCodeLine{00094         \mbox{\hyperlink{classGrocerease_ac19afedd6955c30bd32fc9b2387224a8}{ObstacleAvoidance}}();}
\DoxyCodeLine{00095     \}}
\DoxyCodeLine{00096     angle\_old = angle\_new;  }
\DoxyCodeLine{00097 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a76163fe1108093dac3ceb3663764c4d8}\label{classGrocerease_a76163fe1108093dac3ceb3663764c4d8}} 
\index{Grocerease@{Grocerease}!stop@{stop}}
\index{stop@{stop}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void Grocerease\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



exit program 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00099}{99}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100 \{}
\DoxyCodeLine{00101     cart.\mbox{\hyperlink{classCart_a9500349670b16fdfae1be6ed456967b0}{stop}}();}
\DoxyCodeLine{00102 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_a8ad4120414087daa51a184b7eac56852}\label{classGrocerease_a8ad4120414087daa51a184b7eac56852}} 
\index{Grocerease@{Grocerease}!write\_a\_distance@{write\_a\_distance}}
\index{write\_a\_distance@{write\_a\_distance}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{write\_a\_distance()}{write\_a\_distance()}}
{\footnotesize\ttfamily void Grocerease\+::write\+\_\+a\+\_\+distance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



assign current a\+\_\+distance 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00116}{116}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00117 \{}
\DoxyCodeLine{00118     a\_distance = cart.\mbox{\hyperlink{classCart_a084416c7d23c92b48542c3740671f09b}{getDistance\_a}}();}
\DoxyCodeLine{00119 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGrocerease_ac61b4cd561acb844fc1a658e44c453b3}\label{classGrocerease_ac61b4cd561acb844fc1a658e44c453b3}} 
\index{Grocerease@{Grocerease}!write\_newAngle@{write\_newAngle}}
\index{write\_newAngle@{write\_newAngle}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{write\_newAngle()}{write\_newAngle()}}
{\footnotesize\ttfamily void Grocerease\+::write\+\_\+new\+Angle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



assign current new angle 



Definition at line \mbox{\hyperlink{grocerease_8cpp_source_l00111}{111}} of file \mbox{\hyperlink{grocerease_8cpp_source}{grocerease.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00112 \{}
\DoxyCodeLine{00113     angle\_new = flip\_cart*cart.\mbox{\hyperlink{classCart_ac2d720d602e6eebdb7a6c7538324ef67}{getAngle}}();}
\DoxyCodeLine{00114 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classGrocerease_a0546b86b53e379d6d24cc4ca4a3660b2}\label{classGrocerease_a0546b86b53e379d6d24cc4ca4a3660b2}} 
\index{Grocerease@{Grocerease}!elapsed\_time\_ms@{elapsed\_time\_ms}}
\index{elapsed\_time\_ms@{elapsed\_time\_ms}!Grocerease@{Grocerease}}
\doxysubsubsection{\texorpdfstring{elapsed\_time\_ms}{elapsed\_time\_ms}}
{\footnotesize\ttfamily double Grocerease\+::elapsed\+\_\+time\+\_\+ms}



Definition at line \mbox{\hyperlink{grocerease_8h_source_l00086}{86}} of file \mbox{\hyperlink{grocerease_8h_source}{grocerease.\+h}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/grocerease.\+h\item 
src/grocerease.\+cpp\end{DoxyCompactItemize}
